{"version":3,"sources":["../src/ReactTextFilter.js"],"names":[],"mappings":";;;;;;;;;;2BAAkB,cAAc;;;;sCACX,0BAA0B;;;;IACxC,SAAS,4BAAT,SAAS;IAAW,eAAe,4BAAxB,MAAM,CAAG,eAAe;;AAG1C,IAAM,eAAe,GAAG,yBAAM,WAAW,CAAC;;;AACxC,WAAS,EAAE;AACT,YAAQ,EAAE,SAAS,CAAC,IAAI,CAAC,UAAU;AACnC,UAAM,EAAE,SAAS,CAAC,MAAM;AACxB,aAAS,EAAE,SAAS,CAAC,MAAM;AAC3B,mBAAe,EAAE,SAAS,CAAC,MAAM;GAClC;;AAGD,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,eAAS,EAAE,CAAC;AACZ,YAAM,EAAE,EAAE;AACV,qBAAe,EAAE,GAAG;KACrB,CAAC;GACH;;AAGD,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,YAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM;KAC1B,CAAC;GACH;;AAGD,uBAAqB,EAAA,iCAAU;;;sCAAN,IAAI;AAAJ,UAAI;;;AAC3B,WAAO,0CAAA,eAAe,CAAC,qBAAqB,EAAC,IAAI,MAAA,0CAAC,IAAI,SAAK,IAAI,EAAC,CAAC;GAClE;;AAGD,qBAAmB,EAAA,6BAAC,IAA4B,EAAE,KAAQ,EAAE;QAAvC,SAAS,GAAV,IAA4B,CAA3B,SAAS;QAAE,eAAe,GAA3B,IAA4B,CAAhB,eAAe;QAAI,MAAM,GAAP,KAAQ,CAAP,MAAM;;AACvD,QAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,CAAC;AAC1C,QAAI,CAAC,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;GACrC;;AAGD,oBAAkB,EAAA,8BAAG;AACnB,QAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;GACjD;;AAGD,gBAAc,EAAA,wBAAC,eAAe,EAAE;AAC9B,QAAI,CAAC,MAAM,GAAG,yCAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;GAC9D;;AAGD,qBAAmB,EAAA,6BAAC,eAAe,EAAE;AACnC,QAAI,eAAe,KAAK,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE;AAClD,UAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;KACtC;GACF;;AAGD,aAAW,EAAA,qBAAC,SAAS,EAAE,MAAM,EAAE;QACd,SAAS,GAAI,IAAI,CAAC,KAAK,CAA/B,MAAM;;AAEb,QAAI,MAAM,KAAK,SAAS,EAAE;AACxB,aAAO;KACR;;AAED,QAAI,MAAM,CAAC,MAAM,IAAI,SAAS,EAAE;AAC9B,UAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACpB,aAAO;KACR;;;AAGD,QAAI,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,EAAE;AACpC,UAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;KACjB;GACF;;AAGD,UAAQ,EAAA,kBAAC,KAAK,EAAE;AACd,QAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC;GAC7C;;AAGD,QAAM,EAAA,kBAAG;AACP,WACE,2DAAO,IAAI,EAAC,MAAM,EAAC,WAAW,EAAC,QAAQ;OAEjC,IAAI,CAAC,KAAK;AACd,WAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,AAAC,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,AAAC,IAAG,CACvD;GACH;CACF,CAAC,CAAC;;qBAGY,eAAe","file":"ReactTextFilter.js","sourcesContent":["import React from 'react/addons';\nimport debounce from 'lodash/function/debounce';\nconst {PropTypes, addons: {PureRenderMixin}} = React;\n\n\nconst ReactTextFilter = React.createClass({\n  propTypes: {\n    onFilter: PropTypes.func.isRequired,\n    filter: PropTypes.string,\n    minLength: PropTypes.number,\n    debounceTimeout: PropTypes.number\n  },\n\n\n  getDefaultProps() {\n    return {\n      minLength: 2,\n      filter: '',\n      debounceTimeout: 100\n    };\n  },\n\n\n  getInitialState() {\n    return {\n      filter: this.props.filter\n    };\n  },\n\n\n  shouldComponentUpdate(...args) {\n    return PureRenderMixin.shouldComponentUpdate.call(this, ...args);\n  },\n\n\n  componentWillUpdate({minLength, debounceTimeout}, {filter}) {\n    this.maybeUpdateNotifier(debounceTimeout);\n    this.maybeNotify(minLength, filter);\n  },\n\n\n  componentWillMount() {\n    this.createNotifier(this.props.debounceTimeout);\n  },\n\n\n  createNotifier(debounceTimeout) {\n    this.notify = debounce(this.props.onFilter, debounceTimeout);\n  },\n\n\n  maybeUpdateNotifier(debounceTimeout) {\n    if (debounceTimeout !== this.props.debounceTimeout) {\n      this.createNotifier(debounceTimeout);\n    }\n  },\n\n\n  maybeNotify(minLength, filter) {\n    const {filter: oldFilter} = this.state;\n\n    if (filter === oldFilter) {\n      return;\n    }\n\n    if (filter.length >= minLength) {\n      this.notify(filter);\n      return;\n    }\n\n    // If user hits backspace and goes below minLength consider it cleaning the filter\n    if (filter.length < oldFilter.length) {\n      this.notify('');\n    }\n  },\n\n\n  onChange(event) {\n    this.setState({filter: event.target.value});\n  },\n\n\n  render() {\n    return (\n      <input type=\"text\" placeholder=\"Filter\"\n        // Pass props through\n        {...this.props}\n        value={this.state.filter} onChange={this.onChange} />\n    );\n  }\n});\n\n\nexport default ReactTextFilter;\n"]}